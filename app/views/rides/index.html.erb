<div class="container">
  <div class = "row ">
    <div class= "col-xs-12 text-center">
      <h3 >Trajets disponibles</h3>
    </div>
  </div>
</div>

<% if @rides_same_train.any? %>
  <div class="rides-wrapper pb pt">
    <div class="container">
      <div class="row">
        <div class="col-xs-offset-1 col-xs-10">
          <h4 >Dans votre train ! </h4>
            <h5>  <%= @rides_same_train.first.train_arrival_at.strftime(" %d %b %Y") %></h5>
            <p ><%= @rides_same_train.first.start_point.station %> <strong>  Arrivée   </strong>     <%= @rides_same_train.first.train_arrival_at.strftime("%Hh%M") %>
            </p>
        </div>
      </div>

      <div class="row">
          <%= render 'rides', rides: @rides_same_train %>
      </div>
    </div>
  </div>
<% end %>

  <div class="container">
    <% @rides_not_same_train.group_by(&:train_ref).each do |train_ref, rides|%>
      <div class=" mt mb">
        <div class="row ">
          <div class="col-xs-offset-1 col-xs-10">
              <h5> <%= rides.first.train_arrival_at.strftime(" %d %b %Y")%></h5>
                <p ><%= rides.first.start_point.station %> <strong>  Arrivée   </strong>
                   <%= rides.first.train_arrival_at.strftime("%Hh%M") %>
                </p>
          </div>
        </div>
        <div class="row">
          <%= render 'rides', rides: rides %>
        </div>
      </div>
    <% end %>
  </div>

